{"prompt": "請用XS寫週線月線黃金交叉且站穩\n\n###\n\n", "completion": " setbarfreq(\"AD\");\n\nvalue1=average(close,5);\nvalue2=average(close,20);\nif value1[3] crosses over value2[3]\nand trueall(close>close[1]and close>value1,5)\nthen ret=1 ;\n\noutputfield(1,value1,2,\"週線\", order := -1);\noutputfield(2,value2,2,\"月線\");###"}
{"prompt": "請用XS寫RSI黃金交叉且股價非盤整\n\n###\n\n", "completion": " input:n1(6); \tsetinputname(1,\"RSI短期天數\");\ninput:n2(12);\tsetinputname(2,\"RSI長期天數\");\ninput:n3(4);\tsetinputname(3,\"盤整期間創新高次數\");\n\n\nsettotalbar(maxlist(n1,n2,6) * 9);\n\nvalue2 = highdays(n2);\n\nif rsi(close,n1) crosses over rsi(close,n2) and\n   rsi(close,n1) < 50 and\n   value2 >= n3\nthen ret=1;###"}
{"prompt": "請用XS寫底部越來越高且資金流入的蓄勢股\n\n###\n\n", "completion": " input:r1(7);\t\tsetinputname(1,\"近來漲幅上限%\");\n\nSetTotalBar(8);\n\nvalue1 = RateOfChange(close, 12);\nvalue2 = lowest(low,3);\nvalue3 = lowest(low,8);\nvalue4 = lowest(low,13);\n\ncondition1=false;\ncondition2=false;\n\nif \n\tvalue1 < r1 and\n\tvalue2 > value3 and \n\tvalue3 > value4 and\n\tclose = highest(close,13)\nthen \n\tcondition1=true;\n\nValue5=average(GetField(\"佔全市場成交量比\",\"D\"),13);\n\nif linearregslope(Value5,5) > 0\nthen condition2=true;\n\nif condition1 and condition2\nthen ret=1;###"}
{"prompt": "請用XS寫有一定成交值且過去三日漲幅小\n\n###\n\n", "completion": " input:b1(1.5,\"三日漲幅上限\");\nif volume*close>=30000\nand close<=close[2]*(1+b1/100)\nthen ret=1;###"}
{"prompt": "請用XS寫底部愈墊愈高且資金流入的蓄勢股\n\n###\n\n", "completion": " input:r1(7,\"近來漲幅上限%\");\n\nvalue1 = RateOfChange(close, 12);\nvalue2 = lowest(low,3);\nvalue3 = lowest(low,8);\nvalue4 = lowest(low,13);\n\ncondition1=false;\ncondition2=false;\n\nif \n\tvalue1 < r1 and\n\tvalue2 > value3 and \n\tvalue3 > value4 and\n\tclose = highest(close,13)\nthen \n\tcondition1=true;\n\nValue5=average(GetField(\"佔全市場成交量比\",\"D\"),13);\n\nif linearregslope(Value5,5) > 0\nthen condition2=true;\n\nif condition1 and condition2\nthen ret=1;\n\noutputfield(1,value2,2,\"前波低點\", order := -1);###"}
{"prompt": "請用XS寫波動幅度開始變大且往上攻\n\n###\n\n", "completion": " SetBarFreq(\"AD\");\n\ninput: Length(20, \"計算區間\");\ninput: VolLimit(1000, \"成交量限制\");\n\nvalue1 = truerange();\nvalue2 = highest(value1,Length);\n\nSetTotalBar(Length + 3);\n\nif \n\tvalue1 > value2[1] and \n\tvalue1 > value1[1] and \n\tclose * 1.01 > high and \n\tclose > close[1] and \n\tvolume > VolLimit\nthen ret=1;\n\noutputfield(1,close[1],2,\"前波低點\", order := -1);###"}
{"prompt": "請用XS寫每年本業都獲利且趨勢向上\n\n###\n\n", "completion": " input:lm(200,\"年營業利益下限\");\nsettotalbar(5);\n\nvalue1=GetField(\"營業利益\",\"Y\");//百萬\nif trueall(value1>lm,5)\n//週去五年都賺超過一億\nand linearregslope(value1,5)>0\n//五年的營業利益趨勢往上\nthen ret=1;###"}
{"prompt": "請用XS寫股東權益報酬率高且穩定\n\n###\n\n", "completion": " input:years(5);\t\tsetinputname(1,\"評估期間(年)\");\ninput:r1(15);\t\tsetinputname(2,\"ROE下限(%)\");\ninput:r2(3);\t\tsetinputname(3,\"ROE最大差異(%)\");\ninput:fx(\"資料頻率\");\tSetInputName(4, \"使用限制:請選擇年頻率\");\n\nif barfreq <> \"Y\" then raiseruntimeerror(\"頻率錯誤\");\n\nsettotalbar(3);\n\nvalue1=GetField(\"股東權益報酬率\",\"Y\");\n\nvalue2=lowest(GetField(\"股東權益報酬率\",\"Y\"), years);\nvalue3=highest(GetField(\"股東權益報酬率\",\"Y\"), years);\n\nif (value3 - value2) < r2 and value2 > r1 \nthen ret=1;\n\nsetoutputname1(\"ROE(%)\");\noutputfield1(value1);###"}
{"prompt": "請用XS寫營收年增率由負轉正，且至少連續3個月\n\n###\n\n", "completion": " value1=GetField(\"月營收年增率\",\"M\");\ninput:period(3);\nif trueall(value1>0,period) and value1[3]<0\nthen ret=1;###"}
{"prompt": "請用XS寫高現金股利政策且營運仍佳\n\n###\n\n", "completion": " input:peratio(17,\"本益比上限倍數\");\ninput:ratio(60,\"現金股利佔股利之比重下限\");\ninput:epsl(2,\"預估本益EPS下限\");\ninput:rate1(5,\"累計營收成長率下限\");\n \nvalue1=GetField(\"累計營收年增率\",\"M\");//單位%\nvalue2=GetField(\"現金股利佔股利比重\",\"Y\");\nvalue3=GetField(\"營業利益\",\"Q\");//單位百萬;\nvalue4=GetField(\"最新股本\");//單位億;\nvalue5=summation(value3,4)/(value4*10);//每股預估EPS\n\nif value1>=rate1 //本業持續成長\nand value2>=ratio //主要以現金股利為主\nand value5>=EPSl //每股推估本業獲利高\nand value5/close<=peratio //本益比低\nthen ret=1; ###"}
{"prompt": "請用XS寫營益率由負轉正且持續上揚\n\n###\n\n", "completion": " settotalbar(3);\n\nif \n\tGetField(\"營業利益率\",\"Q\")[2]<0 and \n\tGetField(\"營業利益率\",\"Q\")[1]>0 and\n\tGetField(\"營業利益率\",\"Q\") > GetField(\"營業利益率\",\"Q\")[1] and\n\tGetField(\"月營收月增率\",\"M\") > 0 and \n\tGetField(\"月營收月增率\",\"M\")[1] >0\nthen ret=1;###"}
{"prompt": "請用XS寫PB跌到歷年低點區且低於0.8\n\n###\n\n", "completion": " value1=GetField(\"股價淨值比\",\"Y\");\nvalue2=lowest(value1,4);\nif value1<value2*1.3 and value1<=0.8\nthen ret=1;\n\noutputfield(1, GetField(\"股價淨值比\",\"Y\"),2, \"PB比\", order := -1);###"}