{"prompt": "請幫我用XS寫突破糾結均線的選股\n\n###\n\n", "completion": " setbarfreq(\"AD\");\n\ninput: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\ninput: Percent(5);  setinputname(4,\"均線糾結區間%\");\ninput: XLen(20);  setinputname(5,\"均線糾結期數\");\n\ninput: Volpercent(25);  setinputname(6,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\nvariable: AvgHLp(0),AvgH(0),AvgL(0);\n\nshortaverage = average(close,shortlength);\nmidaverage = average(close,midlength);\nLongaverage = average(close,Longlength);\n\t\t\nAvgH = maxlist(shortaverage,midaverage,Longaverage);\nAvgL = minlist(shortaverage,midaverage,Longaverage);\n\nif AvgL > 0 then AvgHLp = 100*AvgH/AvgL -100;\n\ncondition1 = trueAll(AvgHLp < Percent,XLen);\ncondition2 = V > average(V[1],XLen)*(1+Volpercent/100) ;\ncondition3 = C > AvgH *(1.02) and H > highest(H[1],XLen);\ncondition4 = average(volume[1], 5) >= 1000; \n\nret = condition1 and condition2 and condition3 and condition4;\n\noutputfield(1,AvgH,2,\"均線上緣\", order := -1);\noutputfield(2,AvgL,2,\"均線下緣\");###"}
{"prompt": "請幫我用XS寫KD與均線同步出現買進訊號的選股\n\n###\n\n", "completion": " input: Length(60, \"均線期間\");\n\nvariable:rsv1(0),k1(0),d1(0);\n\nstochastic(9,3,3,rsv1,k1,d1);\n\n// K線黃金交叉\ncondition1 = k1 crosses over d1;\n\ncondition2 = close crosses over average(close,Length) or close[1] crosses over average(close[1],Length);\n\n// 確認有一定的成交量\ncondition3 = average(volume,20) > 1000;\n\nret = condition1 and condition2 and condition3;\n\noutputfield(1,average(close,Length),2,\"60日均線\", order := -1);###"}
{"prompt": "請幫我用XS寫突破糾結均線的選股\n\n###\n\n", "completion": " input: shortlength(5); \tsetinputname(1,\"短期均線期數\");\ninput: midlength(10); \tsetinputname(2,\"中期均線期數\");\ninput: Longlength(20); \tsetinputname(3,\"長期均線期數\");\ninput: Percent(2);  \tsetinputname(4,\"均線糾結區間%\");\ninput: Volpercent(25);  setinputname(5,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\ninput: VolLimit(2000); \tsetinputname(6,\"最小成交量\");\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\nvariable: maxaverage(0);\n\n\nshortaverage = average(close,shortlength);\nmidaverage = average(close,midlength);\nLongaverage = average(close,Longlength);\nmaxaverage = maxlist(shortaverage,midaverage,Longaverage);\n\nSetTotalBar(8);\n\nif \n\tvolume > average(volume,Longlength) * (1 + volpercent * 0.01) and \n\tvolume > VolLimit and\n    Close crosses over maxaverage \nthen\n  begin\n\tvalue1= absvalue(shortaverage -midaverage);\n\tvalue2= absvalue(midaverage -Longaverage);\n\tvalue3= absvalue(Longaverage -shortaverage);\n\tif maxlist(value1,value2,value3)*100 < Percent*Close then  ret=1;\n  end;###"}
{"prompt": "請幫我用XS寫帶量突破均線後未拉回的選股\n\n###\n\n", "completion": " input:day(5);\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(10);\tsetinputname(2,\"移動平均線期別\");\ninput:percent(20);\tsetinputname(3,\"突破當日成交量超過均量多少%\");\n\nSetTotalBar(3);\n\nvalue1=average(close,length);\nvalue2=average(volume,length);\n\nif close[day-1] crosses over average(close[day-1], length) and\n   volume[day-1] > average(volume[day-1], length) * (1+percent/100) and\n   volume > 1000\nthen\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close > keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請幫我用XS寫帶量突破均線後5日內未拉回的選股\n\n###\n\n", "completion": " input:day(5);\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(10);\tsetinputname(2,\"移動平均線期別\");\ninput:percent(20);\tsetinputname(3,\"突破當日成交量超過均量多少%\");\n\nSetTotalBar(3);\n\nvalue1=average(close,length);\nvalue2=average(volume,length);\n\nif close[day-1] crosses over average(close[day-1], length) and\n   volume[day-1] > average(volume[day-1], length) * (1+percent/100) and\n   volume > 1000\nthen\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close > keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請幫我用XS寫帶量突破均線後3日內未拉回的選股\n\n###\n\n", "completion": " input:day(3);\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(10);\tsetinputname(2,\"移動平均線期別\");\ninput:percent(20);\tsetinputname(3,\"突破當日成交量超過均量多少%\");\n\nSetTotalBar(3);\n\nvalue1=average(close,length);\nvalue2=average(volume,length);\n\nif close[day-1] crosses over average(close[day-1], length) and\n   volume[day-1] > average(volume[day-1], length) * (1+percent/100) and\n   volume > 1000\nthen\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close > keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請幫我用XS寫跌破均線後站不回的選股\n\n###\n\n", "completion": " input:day(3);\t\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(20);\t\tsetinputname(2,\"移動平均線期別\");\n\nsettotalbar(length + 3);\n\nif close[day-1] crosses under average(close[day-1], length) then\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close < keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請幫我用XS寫跌破均線後3日內站不回的選股\n\n###\n\n", "completion": " input:day(3);\t\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(20);\t\tsetinputname(2,\"移動平均線期別\");\n\nsettotalbar(length + 3);\n\nif close[day-1] crosses under average(close[day-1], length) then\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close < keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請幫我用XS寫跌破均線後5日內站不回的選股\n\n###\n\n", "completion": " input:day(5);\t\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(20);\t\tsetinputname(2,\"移動平均線期別\");\n\nsettotalbar(length + 3);\n\nif close[day-1] crosses under average(close[day-1], length) then\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close < keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請幫我用XS寫均線多頭排列的選股\n\n###\n\n", "completion": " input:Leng1(5),Leng2(20),Leng3(60);\n\nvariable: ma1(0), ma2(0), ma3(0);\n\nSetInputName(1,\"短均線\");\nSetInputName(2,\"中均線\");\nSetInputName(3,\"長均線\");\n\nsettotalbar(3);\n\nma1 = average(close, Leng1);\nma2 = average(close, Leng2);\nma3 = average(close, Leng3);\n\ncondition1 = close > ma1;\ncondition2 = ma1 > ma2;\ncondition3 = ma2 > ma3;\n\nif condition1 and condition2 and condition3 then \nret = 1;\n\nSetOutputName1(\"短均線\");   \nOutputField1(ma1);\nSetOutputName2(\"中均線\");   \nOutputField2(ma2);\nSetOutputName3(\"長均線\");   \nOutputField3(ma3);###"}
{"prompt": "請幫我用XS寫均線空頭排列的選股\n\n###\n\n", "completion": " input:Leng1(5),Leng2(20),Leng3(60);\n\nvariable: ma1(0), ma2(0), ma3(0);\n\nSetInputName(1,\"短均線\");\nSetInputName(2,\"中均線\");\nSetInputName(3,\"長均線\");\n\nsettotalbar(3);\n\nma1 = average(close, Leng1);\nma2 = average(close, Leng2);\nma3 = average(close, Leng3);\n\ncondition1 = close < ma1;\ncondition2 = ma1 < ma2;\ncondition3 = ma2 < ma3;\n\nif condition1 and condition2 and condition3 then \nret = 1;\n\nSetOutputName1(\"短均線\");   \nOutputField1(ma1);\nSetOutputName2(\"中均線\");   \nOutputField2(ma2);\nSetOutputName3(\"長均線\");   \nOutputField3(ma3);###"}
{"prompt": "請幫我用XS寫短期均線穿越長期均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫短期5日均線穿越長期20日均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫短期10日均線穿越20日均線的選股\n\n###\n\n", "completion": " input: Shortlength(10); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫10日均線穿越20日均線的選股\n\n###\n\n", "completion": " input: Shortlength(10); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫3日均線穿越5日均線的選股\n\n###\n\n", "completion": " input: Shortlength(3); setinputname(1,\"短期均線期數\");\ninput: Longlength(5); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫短期均線跌破長期均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫5日均線跌破20日均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫5日均線跌破10日均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(10); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫3日均線跌破5日均線的選股\n\n###\n\n", "completion": " input: Shortlength(3); setinputname(1,\"短期均線期數\");\ninput: Longlength(5); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫跌破糾結均線的選股\n\n###\n\n", "completion": " setbarfreq(\"AD\");\n\ninput: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\ninput: Percent(5);  setinputname(4,\"均線糾結區間%\");\ninput: XLen(20);  setinputname(5,\"均線糾結期數\");\n\ninput: Volpercent(25);  setinputname(6,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\nvariable: AvgHLp(0),AvgH(0),AvgL(0);\n\nshortaverage = average(close,shortlength);\nmidaverage = average(close,midlength);\nLongaverage = average(close,Longlength);\n\t\nAvgH = maxlist(shortaverage,midaverage,Longaverage);\nAvgL = minlist(shortaverage,midaverage,Longaverage);\n\nif AvgL > 0 then AvgHLp = 100*AvgH/AvgL -100;\n\ncondition1 = trueAll(AvgHLp < Percent,XLen);\ncondition2 = V >  average(V[1],XLen)*(1+Volpercent/100) ;\ncondition3 = average(Volume[1], 5) >= 2000;\ncondition4 = C < AvgL *(0.98) and L < lowest(L[1],XLen);\n\nret = condition1 and condition2 and condition3 and condition4;\n\noutputfield(1,AvgH,2,\"均線上緣\", order := -1);\noutputfield(2,AvgL,2,\"均線下緣\");###"}
{"prompt": "請幫我用XS寫股價大於近N期平均的選股\n\n###\n\n", "completion": " input:N(5); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") > Average(GetField(\"Close\"),N) then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請幫我用XS寫股價小於近N期平均的選股\n\n###\n\n", "completion": " input:N(5); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") < Value1 then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請幫我用XS寫移動平均線再平均的指標\n\n###\n\n", "completion": " input: Period1(5,\"一次平均期數\");\ninput: Period2(5,\"二次平均期數\");\ninput: Period3(10,\"累計期數\");\n\nvalue1=average(close,Period1);\nvalue2=average(value1,Period2);\nvalue3=value1-value2;\nvalue4=summation(value3,Period3);\nplot1(value4,\"多空\");###"}
{"prompt": "請幫我用XS寫自營商均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\t\nvariable: avg_b(0), avg_s(0);\n\nif GetField(\"Volume\") > 0 then \nbegin\n\tValue5 = GetField(\"自營商買張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\n\tValue6 = GetField(\"自營商賣張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\nend else begin\n\tValue5 = 0;\n\tValue6 = 0;\nend;\n\t\nValue1 = summation(Value5, period);\nValue2 = summation(GetField(\"自營商買張\"), period);\nValue3 = summation(Value6, period);\nValue4 = summation(GetField(\"自營商賣張\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg_b = Value1 / Value2;\nif Value4 > 0 and Value4 <> Value4[1]  then avg_s = Value3 / Value4;\n\nPlot1(avg_b, \"自營商買進均價\");\nPlot2(avg_s, \"自營商賣出均價\");###"}
{"prompt": "請幫我用XS寫投信均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\t\nvariable: avg_b(0), avg_s(0);\n\nif GetField(\"Volume\") > 0 then \nbegin\n\tValue5 = GetField(\"投信買張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\n\tValue6 = GetField(\"投信賣張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\nend else begin\n\tValue5 = 0;\n\tValue6 = 0;\nend;\n\nValue1 = summation(Value5, period);\nValue2 = summation(GetField(\"投信買張\"), period);\nValue3 = summation(Value6, period);\nValue4 = summation(GetField(\"投信賣張\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg_b = Value1 / Value2;\nif Value4 > 0 and Value4 <> Value4[1]  then avg_s = Value3 / Value4;\n\nPlot1(avg_b, \"投信買進均價\");\nPlot2(avg_s, \"投信賣出均價\");###"}
{"prompt": "請幫我用XS寫外資均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\nvariable: avg_b(0), avg_s(0);\nif GetField(\"Volume\") > 0 then \nbegin\n\tValue5 = GetField(\"外資買張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\n\tValue6 = GetField(\"外資賣張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\nend else begin\n\tValue5 = 0;\n\tValue6 = 0;\nend;\n\nValue1 = summation(Value5, period);\nValue2 = summation(GetField(\"外資買張\"), period);\nValue3 = summation(Value6, period);\nValue4 = summation(GetField(\"外資賣張\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg_b = Value1 / Value2;\nif Value4 > 0 and Value4 <> Value4[1]  then avg_s = Value3 / Value4;\n\nPlot1(avg_b, \"外資買進均價\");\nPlot2(avg_s, \"外資賣出均價\");###"}
{"prompt": "請幫我用XS寫融券均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\nvariable: avg(0);\n\nif GetField(\"Volume\") > 0 then \n\tValue3 = GetField(\"融券賣出張數\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000)\nelse\n\tValue3 = 0;\n\nValue1 = summation(Value3, period);\nValue2 = summation(GetField(\"融券賣出張數\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg = Value1 / Value2;\n\nPlot1(avg, \"融券賣出均價\");###"}
{"prompt": "請幫我用XS寫融資均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\nvariable: avg(0);\n\nif GetField(\"Volume\") > 0 then \n\tValue3 = GetField(\"融資買進張數\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000)\nelse\n\tValue3 = 0;\n\nValue1 = summation(Value3, period);\nValue2 = summation(GetField(\"融資買進張數\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg = Value1 / Value2;\n\nPlot1(avg, \"融資買進均價\");###"}
{"prompt": "請幫我用XS寫200日均線以上包含家數的指標\n\n###\n\n", "completion": " value1 = 0;\n\nif getsymbolfield(\"1101.TW\", \"Close\") > average(getsymbolfield(\"1101.TW\", \"Close\"), 200) then value1 +=1;\n\nif getsymbolfield(\"1102.TW\", \"Close\") > average(getsymbolfield(\"1102.TW\", \"Close\"), 200) then value1 +=1; # 將所想要的商品寫出後 value1 就會是這些商品中符合條件的數量。###"}
{"prompt": "請幫我用XS寫股價大於近3期平均的選股\n\n###\n\n", "completion": " input:N(3); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") < Value1 then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請幫我用XS寫股價大於近2期平均的選股\n\n###\n\n", "completion": " input:N(2); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") < Value1 then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請幫我用XS寫股價大於近1期平均的選股\n\n###\n\n", "completion": " input:N(1); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") < Value1 then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請幫我用XS寫股價穿越突破三均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10);  setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,midlength,Longlength));\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\n\nshortaverage=Average(close,shortlength);\nmidaverage=Average(close,midlength) ;\nLongaverage = Average(close,Longlength); \n\nif close > maxlist(shortaverage, midaverage, longaverage) and\n     open < minlist(shortaverage, midaverage, longaverage)\n     then ret=1;###"}
{"prompt": "請幫我用XS寫股價穿越突破單均線的警示\n\n###\n\n", "completion": " input: length(5); setinputname(1,\"均線期數\");\ninput: Price(Close); setinputname(2,\"價格別\");\n\nsettotalbar(3);\nsetbarback(length);\n\nvariable: avgValue(0);\navgValue = Average(Price,length);\n\nif close > avgValue and  open < avgValue  then ret=1;###"}
{"prompt": "請幫我用XS寫股價穿越突破雙均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,Longlength));\n\nvariable: Longaverage(0);\nvariable: shortaverage(0);\n\nLongaverage = Average(close,Longlength);\nshortaverage=Average(close,shortlength) ;\n\n\nif close > maxlist(shortaverage, longaverage) and\n     open < minlist(shortaverage, longaverage)\nthen ret=1;###"}
{"prompt": "請幫我用XS寫股價穿越跌破三均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,midlength,Longlength));\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\n\nshortaverage=Average(close,shortlength);\nmidaverage=Average(close,midlength) ;\nLongaverage = Average(close,Longlength); \n\nif open > maxlist(shortaverage, midaverage, longaverage) and\n   close < minlist(shortaverage, midaverage, longaverage)\nthen ret=1;###"}
{"prompt": "請幫我用XS寫股價穿越跌破單均線的警示\n\n###\n\n", "completion": " input: length(5); setinputname(1,\"均線期數\");\ninput: Price(Close);setinputname(2,\"價格別\");\n\nsettotalbar(3);\nsetbarback(length);\n\nvariable: avgValue(0);\navgValue = Average(Price,length);\n\nif close < avgValue and  open > avgValue  then ret=1;###"}
{"prompt": "請幫我用XS寫股價穿越跌破雙均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,Longlength));\n\nvariable: Longaverage(0);\nvariable: shortaverage(0);\n\nLongaverage = Average(close,Longlength);\nshortaverage=Average(close,shortlength) ;\n\nif open > maxlist(shortaverage, longaverage) and\n   close < minlist(shortaverage, longaverage)\n then ret=1;###"}
{"prompt": "請幫我用XS寫帶量突破均線的警示\n\n###\n\n", "completion": " input: Length(10), VolFactor(2);\n\nsettotalbar(3);\nsetbarback(Length);\n\nSetInputName(1, \"期數\");\nSetInputName(2, \"成交量放大倍數\");\n\nif close > Average(close, Length) and  close[1] <  Average(close, Length) and\n   volume > Average(volume, Length) * VolFactor \nthen ret=1;###"}
{"prompt": "請幫我用XS寫帶量跌破均線的警示\n\n###\n\n", "completion": " input: Length(10), VolFactor(2);\n\nsettotalbar(3);\nsetbarback(Length);\n\nSetInputName(1, \"期數\");\nSetInputName(2, \"成交量放大倍數\");\n\nif close < Average(close, Length) and  close[1] >  Average(close, Length) and\n   volume > Average(volume, Length) * VolFactor \nthen ret=1;###"}
{"prompt": "請幫我用XS寫第一次站上20週均線的警示\n\n###\n\n", "completion": " if barfreq<>\"W\" then return;\nif close crosses over average(close,20)\nand barslast(close crosses over average(close,20))[1]\n>20\nthen ret=1;###"}
{"prompt": "請幫我用XS寫第一次站上10週均線的警示\n\n###\n\n", "completion": " if barfreq<>\"W\" then return;\nif close crosses over average(close,10)\nand barslast(close crosses over average(close,10))[1]\n>10\nthen ret=1;###"}
{"prompt": "請幫我用XS寫短期均線突破長期均線的警示\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(Shortlength,Longlength,6));\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫3日均線突破5日均線的警示\n\n###\n\n", "completion": " input: Shortlength(3); setinputname(1,\"短期均線期數\");\ninput: Longlength(5); setinputname(2,\"長期均線期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(Shortlength,Longlength,6));\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫10日均線突破20日均線的警示\n\n###\n\n", "completion": " input: Shortlength(10); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(Shortlength,Longlength,6));\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫5日均線跌破10日均線的警示\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(10); setinputname(2,\"長期均線期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(Shortlength,Longlength,6));\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請幫我用XS寫大跌後均線黃金交叉的警示\n\n###\n\n", "completion": " Input: Length1(5, \"短天期\");\nInput: Length2(20, \"長天期\");\n\nvalue1=highest(high,100);\n\nif value1 > close*1.2\nand average(close,Length1) crosses over average(close,Length2)\nthen ret=1;###"}
{"prompt": "請幫我用XS寫中長線均線糾結後突破的警示\n\n###\n\n", "completion": " input: Shortlength(10,\"短期均線期數\");\ninput: Midlength(20,\"中期均線期數\");\ninput: Longlength(40,\"長期均線期數\");\ninput: Percent(2,\"均線糾結區間%\");\ninput: Volpercent(20,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\nif volume > average(volume,Longlength) * (1 + volpercent * 0.01) and volume > 1000 then\nbegin\n\tshortaverage = average(close,Shortlength);\n\tmidaverage = average(close,Midlength);\n\tLongaverage = average(close,Longlength);\n\t\n\tvalue2=  maxlist(shortaverage,midaverage,Longaverage );\n\tvalue3=  minlist(shortaverage,midaverage,Longaverage );\n\t\n\tif close crosses over value2\n\tand (value2-value3)*100 < Percent*close \n\tthen ret=1;\nend;###"}
{"prompt": "請幫我用XS寫舉跌破多根均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10);  setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\n\nsetbarback(maxlist(shortlength,midlength,Longlength,6)+8);\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\n\nshortaverage=Average(close,shortlength);\nmidaverage=Average(close,midlength) ;\nLongaverage = Average(close,Longlength); \n\nif close  crosses under  shortaverage and \n   close  crosses under  midlength and \n   close  crosses under  Longaverage \nthen ret=1;###"}
{"prompt": "請幫我用XS寫跌破均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,midlength,Longlength));\n\nshortaverage=Average(close,shortlength);\nmidaverage=Average(close,midlength) ;\nLongaverage = Average(close,Longlength); \n\nif open > maxlist(shortaverage, midaverage, longaverage) and\n   close < minlist(shortaverage, midaverage, longaverage)\nthen ret=1;###"}
{"prompt": "請幫我用XS寫大跌後均線糾結後上漲的警示\n\n###\n\n", "completion": " input: s1(5,\"短期均線期數\");\ninput: s2(10,\"中期均線期數\");\ninput: s3(20,\"長期均線期數\");\ninput: Percent(2,\"均線糾結區間%\");\ninput: Volpercent(25,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\n\nvariable: Shortaverage(0);\nvariable: Midaverage(0);\nvariable: Longaverage(0);\n\nif volume > average(volume,s3) * (1 + volpercent * 0.01)\n//放量25%\nand lowest(volume,s3)<1000\n//區間最低量小於一千張\nand volume>2000\n//今日成交量突破2000張\nthen begin\n\tShortaverage = average(close,s1);\n\tMidaverage = average(close,s2);\n\tLongaverage = average(close,s3);\n\tvalue1= maxlist(Shortaverage,Midaverage,Longaverage) - minlist(Shortaverage,Midaverage,Longaverage);\n\t\n\tif  value1*100 < Percent*Close\n\tand linearregangle(value1,5)<10\n\t//均線糾結在一起\n\tand close*1.3<close[40]\n\t//最近四十個交易日跌了超過三成\n\tthen ret=1; \nend;###"}
{"prompt": "請幫我用XS寫平均量黃金交叉的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短均量期數\");\ninput: Longlength(22); setinputname(2,\"長均量期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(shortlength,Longlength));\n\nvariable: Longaverage(0);\nvariable: shortaverage(0);\n\nLongaverage = Average(volume,Longlength);\nshortaverage=Average(volume,shortlength) ;\n\nif shortaverage crosses over  Longaverage then ret=1;###"}
{"prompt": "請幫我用XS寫均線多頭排列的警示\n\n###\n\n", "completion": " input: shortlength(5,\"短期均線期數\");\ninput: midlength(10,\"中期均線期數\");\ninput: Longlength(20,\"長期均線期數\");\ninput: SuperLong(60,\"超長期均線期數\");\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\nvariable: SuperLongaverage(0);\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,midlength,Longlength,SuperLong));\n\nif Close > close[1] then\nbegin\n shortaverage=Average(close,shortlength);\n midaverage=Average(close,midlength) ;\n Longaverage = Average(close,Longlength); \n SuperLongaverage = Average(close,SuperLong); \n if  close>shortaverage and \n     shortaverage>midaverage and \n\t midaverage>Longaverage and \n\t Longaverage>SuperLongaverage\n then ret=1;\nend;###"}
{"prompt": "請幫我用XS寫沿均線前進的警示\n\n###\n\n", "completion": " input:Length(10); setinputname(1,\"計算期數\");\ninput:FollowLength(5); setinputname(2,\"貼近均線期數\");\ninput:Ratio(2);setinputname(3,\"沿均線通道幅度%\");\ninput:LongShort(0);setinputname(4,\"觸發:創新高1,創新低-1,不指定0\");\n\nsettotalbar(FollowLength + 3);\nsetbarback(Length);\n\ncondition1= false;\n\nswitch(LongShort)\nbegin\ncase =1:\n condition1 = close > highest(high[1],Length);\ncase -1:\n condition1 = close < lowest(low[1],Length);\ncase 0:\n condition1=true;\nend;\n\n\nIf Condition1 and \n   TrueAll(absvalue(close-average(close,Length))< Close*Ratio/100,FollowLength)\nthen Ret=1;###"}
{"prompt": "請幫我用XS寫突破糾結均線的警示\n\n###\n\n", "completion": " input: shortlength(5,\"短期均線期數\");\ninput: midlength(10,\"中期均線期數\");\ninput: Longlength(20,\"長期均線期數\");\ninput: Percent(5,\"均線糾結區間%\");\ninput: XLen(20,\"均線糾結期數\");\ninput: Volpercent(25,\"放量幅度%\"); //帶量突破的量是超過最長期的均量多少%\n\nvariable: Shortaverage(0),Midaverage(0),Longaverage(0);\nvariable: AvgHLp(0),AvgH(0),AvgL(0);\n\n//透過Z的時間安排來決定現在用的是那一根Bar的資料 \nvariable: Z(0);\nif currenttime > 180000 \nor currenttime < 083000 then \n\tZ =0 \nelse \n\tZ=1;\n\nShortaverage = average(close,shortlength);\nMidaverage = average(close,midlength);\nLongaverage = average(close,Longlength);\nAvgH = maxlist(Shortaverage,Midaverage,Longaverage);\nAvgL = minlist(Shortaverage,Midaverage,Longaverage);\n\nif AvgL > 0 then AvgHLp = 100*AvgH/AvgL -100;\n\ncondition1 = trueAll(AvgHLp < Percent,XLen);\ncondition2 = V > average(V[1],XLen)*(1+Volpercent/100) ;\ncondition3 = C > AvgH *(1.02) and H > highest(H[1],XLen);\ncondition4 = average(volume[1], 5) >= 1000; \ncondition5 = tselsindex(10,6)[Z]=1;\n\nif condition1 \nand condition2 \nand condition3 \nand condition4 \nand condition5\nthen ret=1;###"}
{"prompt": "請幫我用XS寫帶量突破糾結的均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\ninput: Percent(2);  setinputname(4,\"均線糾結區間%\");\ninput: Volpercent(25);  setinputname(5,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\nsettotalbar(8);\nsetbarback(maxlist(shortlength,midlength,Longlength));\n\n\nif volume > average(volume,Longlength) * (1 + volpercent * 0.01) then\nbegin\n\tshortaverage = average(close,shortlength);\n\tmidaverage = average(close,midlength);\n\tLongaverage = average(close,Longlength);\n\tif Close crosses over maxlist(shortaverage,midaverage,Longaverage) then\n\tbegin\n\t\tvalue1= absvalue(shortaverage -midaverage);\n\t\tvalue2= absvalue(midaverage -Longaverage);\n\t\tvalue3= absvalue(Longaverage -shortaverage);\n\t\tif maxlist(value1,value2,value3)*100 < Percent*Close then  ret=1;\n\tend;\nend;###"}
{"prompt": "請幫我用XS寫調整型均線黃金交叉的警示\n\n###\n\n", "completion": " input:Length(6); setinputname(1,\"起始期數\");\ninput:TLength(20); setinputname(2,\"終止期數\");\ninput:AddLength(1); setinputname(3,\"期數調整項\");\ninput:TuneRatio(3); setinputname(4,\"調整係數\");\n\nsettotalbar(TLength + 8);\n\nvariable: AvgTR(0);\n\nif Length >= TLength then return;\n\nAvgTR = average(TrueRange,Length);\n\nvalue2 = intportion( (TLength -Length)/ AddLength);\nfor value1 =  Length to TLength\nbegin\n    if mod( value1 ,AddLength) = 0  or value1 =TLength then\n\t begin\n\t\tif (AvgTR > Close *  TuneRatio*0.01 ) then\n\t\tbegin\n\t\tAvgTR = average(TrueRange,value1);\n\t\tvalue3 = value1; \n\t\tend;\n   end;\nend;\n\nif close crosses over  average(close[1] ,value3) then ret=1;###"}
{"prompt": "請幫我用XS寫成交量突破N倍均量的警示\n\n###\n\n", "completion": " input: length(20);  setinputname(1,\"均量期數\");\ninput: N(3);  setinputname(2,\"量增倍數\");\n\nsettotalbar(3);\nsetbarback(Length);\n\nif volume > Average( volume[1],length)* N then ret=1;###"}
{"prompt": "請幫我用XS寫成交量突破1倍均量的警示\n\n###\n\n", "completion": " input: length(20);  setinputname(1,\"均量期數\");\ninput: N(1);  setinputname(2,\"量增倍數\");\n\nsettotalbar(1);\nsetbarback(Length);\n\nif volume > Average( volume[1],length)* N then ret=1;###"}
{"prompt": "請幫我用XS寫成交量突破2倍均量的警示\n\n###\n\n", "completion": " input: length(20);  setinputname(1,\"均量期數\");\ninput: N(2);  setinputname(2,\"量增倍數\");\n\nsettotalbar(2);\nsetbarback(Length);\n\nif volume > Average( volume[1],length)* N then ret=1;###"}
{"prompt": "請幫我用XS寫成交量突破10倍均量的警示\n\n###\n\n", "completion": " input: length(20);  setinputname(1,\"均量期數\");\ninput: N(10);  setinputname(2,\"量增倍數\");\n\nsettotalbar(10);\nsetbarback(Length);\n\nif volume > Average( volume[1],length)* N then ret=1;###"}
{"prompt": "請幫我用XS寫EPS連續1年都大於2元\n\n###\n\n", "completion": " input:N(1); setinputname(1, \"期別\");\ninput:X(2); setinputname(2, \"元\"); \n\nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\", \"Y\") > X,N) then ret=1; \n\nSetOutputName1(\"EPS(元)(年)\"); \nOutputField1(GetField(\"EPS\", \"Y\"));###"}
{"prompt": "請幫我用XS寫EPS連續2年都大於3元\n\n###\n\n", "completion": " input:N(2); setinputname(1, \"期別\");\ninput:X(3); setinputname(2, \"元\"); \n\nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\", \"Y\") > X,N) then ret=1; \n\nSetOutputName1(\"EPS(元)(年)\"); \nOutputField1(GetField(\"EPS\", \"Y\"));###"}
{"prompt": "請幫我用XS寫EPS連續5年都大於1元\n\n###\n\n", "completion": " input:N(5); setinputname(1, \"期別\");\ninput:X(1); setinputname(2, \"元\"); \n\nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\", \"Y\") > X,N) then ret=1; \n\nSetOutputName1(\"EPS(元)(年)\"); \nOutputField1(GetField(\"EPS\", \"Y\"));###"}
{"prompt": "請幫我用XS寫EPS連續4年都小於2元\n\n###\n\n", "completion": " input:N(4); setinputname(1, \"期別\");\ninput:X(2); setinputname(2, \"元\"); \n\nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\", \"Y\") < X,N) then ret=1; \n\nSetOutputName1(\"EPS(元)(年)\"); \nOutputField1(GetField(\"EPS\", \"Y\"));###"}
{"prompt": "請幫我用XS寫EPS連續5年都小於1元\n\n###\n\n", "completion": " input:N(5); setinputname(1, \"期別\");\ninput:X(1); setinputname(2, \"元\"); \n\nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\", \"Y\") < X,N) then ret=1; \n\nSetOutputName1(\"EPS(元)(年)\"); \nOutputField1(GetField(\"EPS\", \"Y\"));###"}
{"prompt": "請幫我用XS寫EPS連續3年都小於4元\n\n###\n\n", "completion": " input:N(3); setinputname(1, \"期別\");\ninput:X(4); setinputname(2, \"元\"); \n\nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\", \"Y\") < X,N) then ret=1; \n\nSetOutputName1(\"EPS(元)(年)\"); \nOutputField1(GetField(\"EPS\", \"Y\"));###"}
{"prompt": "請幫我用XS寫EPS連續3季成長\n\n###\n\n", "completion": " input:N(3); SetInputName(1, \"期別\");\n \nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\",\"Q\") > GetField(\"EPS\",\"Q\")[1],N) then ret=1; \n\nSetOutputName1(\"EPS(元)(季)\"); \nOutputField1(GetField(\"EPS\",\"Q\"));###"}
{"prompt": "請幫我用XS寫EPS連續4季成長\n\n###\n\n", "completion": " input:N(4); SetInputName(1, \"期別\");\n \nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\",\"Q\") > GetField(\"EPS\",\"Q\")[1],N) then ret=1; \n\nSetOutputName1(\"EPS(元)(季)\"); \nOutputField1(GetField(\"EPS\",\"Q\"));###"}
{"prompt": "請幫我用XS寫EPS連續2季成長\n\n###\n\n", "completion": " input:N(2); SetInputName(1, \"期別\");\n \nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\",\"Q\") > GetField(\"EPS\",\"Q\")[1],N) then ret=1; \n\nSetOutputName1(\"EPS(元)(季)\"); \nOutputField1(GetField(\"EPS\",\"Q\"));###"}
{"prompt": "請幫我用XS寫EPS連續2季衰退\n\n###\n\n", "completion": " input:N(2); SetInputName(1, \"期別\");\n \nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\",\"Q\") < GetField(\"EPS\",\"Q\")[1],N) then ret=1; \n\nSetOutputName1(\"EPS(元)(季)\"); \nOutputField1(GetField(\"EPS\",\"Q\")); ###"}
{"prompt": "請幫我用XS寫EPS連續3季衰退\n\n###\n\n", "completion": " input:N(3); SetInputName(1, \"期別\");\n \nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\",\"Q\") < GetField(\"EPS\",\"Q\")[1],N) then ret=1; \n\nSetOutputName1(\"EPS(元)(季)\"); \nOutputField1(GetField(\"EPS\",\"Q\")); ###"}
{"prompt": "請幫我用XS寫EPS連續4季衰退\n\n###\n\n", "completion": " input:N(4); SetInputName(1, \"期別\");\n \nSetTotalBar(3); \n\nif TrueAll(GetField(\"EPS\",\"Q\") < GetField(\"EPS\",\"Q\")[1],N) then ret=1; \n\nSetOutputName1(\"EPS(元)(季)\"); \nOutputField1(GetField(\"EPS\",\"Q\")); ###"}
{"prompt": "請幫我用XS寫BBand出現買進訊號\n\n###\n\n", "completion": " input:length(20);\nvariable:up1(0),down1(0),mid1(0),bbandwidth(0);\nup1 = bollingerband(Close, Length, 1);\ndown1 = bollingerband(Close, Length, -1 );\nmid1 = (up1 + down1) / 2;\n\nbbandwidth = 100 * (up1 - down1) / mid1;\nif bbandwidth crosses above 5 and close > up1 and close> up1[1]\nand average(close,20)>average(close,20)[1]\nthen ret=1;###"}
{"prompt": "請幫我用XS寫RSI低檔背離\n\n###\n\n", "completion": " // RSI由下往上, 與價格趨勢背離\nInput: RSILength(6, \"期數\"), Threshold(20, \"低檔值\"), Region(5, \"日期區間\");\nvariable: rsiValue(0);\n\nsettotalbar(maxlist(RSILength,6) * 8 + 8);\n\nRSIValue = RSI(Close, RSILength);\nIf RSIValue Crosses Above Threshold and\n   RSIValue >= Highest(RSIValue, Region) and\n   Close <= Lowest(Close, Region) then\n   Ret = 1;\noutputfield1(RSIValue,\"RSI\");###"}
{"prompt": "請幫我用XS寫RSI高檔背離\n\n###\n\n", "completion": " // RSI由高檔區往下, 與價格趨勢背離\n//\nInput: RSILength(6), Threshold(80), Region(5);\nvariable: rsiValue(0);\n\nsettotalbar(maxlist(RSILength,6) * 9);\n\nSetInputName(1, \"期數\");\nSetInputName(2, \"高檔值\");\nSetInputName(3, \"日期區間\");\n\nRSIValue = RSI(Close, RSILength);\nIf RSIValue Crosses Below Threshold and\n   RSIValue < Lowest(RSIValue, Region) and \n   Close >= Highest(Close, Region) then\n\tRet = 1;\n\nsetoutputname1(\"RSI\");\noutputfield1(RSIValue);###"}
{"prompt": "請幫我用XS寫成交量放大\n\n###\n\n", "completion": " input: Length(5), VolFactor(2);\n\nSetInputName(1, \"均量區間\");\nSetInputName(2, \"放大倍數\");\n\nsettotalbar(3);\n\nRet = Volume > Average(Volume[1], Length) * VolFactor;###"}
{"prompt": "請幫我用XS寫週KD低檔黃金交叉\n\n###\n\n", "completion": " // KD指標, K值由下往上穿越D值\n//\ninput: Length(9), RSVt(3), Kt(3);\nvariable: rsv(0), k(0), _d(0);\n\nSetInputName(1, \"天數\");\nSetInputName(2, \"RSVt權數\");\nSetInputName(3, \"Kt權數\");\n\nStochastic(Length, RSVt, Kt, rsv, k, _d);\n\nRet = k crosses above _d and k<30;###"}
{"prompt": "請幫我用XS寫週線月線黃金交叉且站穩\n\n###\n\n", "completion": " setbarfreq(\"AD\");\n\nvalue1=average(close,5);\nvalue2=average(close,20);\nif value1[3] crosses over value2[3]\nand trueall(close>close[1]and close>value1,5)\nthen ret=1 ;\n\noutputfield(1,value1,2,\"週線\", order := -1);\noutputfield(2,value2,2,\"月線\");###"}
{"prompt": "請幫我用XS寫KD與均線同步出現買進訊號\n\n###\n\n", "completion": " input: Length(60, \"均線期間\");\n\nvariable:rsv1(0),k1(0),d1(0);\n\nstochastic(9,3,3,rsv1,k1,d1);\n\n// K線黃金交叉\ncondition1 = k1 crosses over d1;\n\ncondition2 = close crosses over average(close,Length) or close[1] crosses over average(close[1],Length);\n\n// 確認有一定的成交量\ncondition3 = average(volume,20) > 1000;\n\nret = condition1 and condition2 and condition3;\n\noutputfield(1,average(close,Length),2,\"60日均線\", order := -1);###"}
{"prompt": "請幫我用XS寫K棒突破布林值上緣\n\n###\n\n", "completion": " Input: \n\tLength(20, \"期數\"), \n\tUpperBand(2, \"通道上緣\");\n\nsettotalbar(3);\n\nRet = close >= bollingerband(Close, Length, UpperBand);###"}
{"prompt": "請幫我用XS寫RSI黃金交叉且股價非盤整\n\n###\n\n", "completion": " input:n1(6); \tsetinputname(1,\"RSI短期天數\");\ninput:n2(12);\tsetinputname(2,\"RSI長期天數\");\ninput:n3(4);\tsetinputname(3,\"盤整期間創新高次數\");\n\n\nsettotalbar(maxlist(n1,n2,6) * 9);\n\nvalue2 = highdays(n2);\n\nif rsi(close,n1) crosses over rsi(close,n2) and\n   rsi(close,n1) < 50 and\n   value2 >= n3\nthen ret=1;###"}
{"prompt": "請幫我用XS寫天量後價量未再創新高\n\n###\n\n", "completion": " input:XLength(60); \tsetinputname(1,\"長期大量計算期數\");\ninput:Length(3); \tsetinputname(2,\"超過n日價量未再創新高\");\n\nvariable: PriceHighBar(0),VolumeHighBar(0);\n\nsettotalbar(3);\n\nVolumeHighBar = highestbar(volume, XLength);\nPriceHighBar = highestbar(high, Length);\n\n// 近日內成交量創新高, 可是價格沒有創新高\n//\nif VolumeHighBar > 0 and \n   VolumeHighBar <= Length and\n   PriceHighBar = VolumeHighBar then\nret = 1;###"}
{"prompt": "請幫我用XS寫布林帶寬大於80%\n\n###\n\n", "completion": " input: \n\tLength(20, \"天數\"), \n\tUpperBand(2, \"上\"), \n\tLowerBand(2, \"下\"),\n\tBBW(80,\"N\");\n\t\nvariable: \n\tbbandwidth(0);\n\nbbandwidth = bollingerbandwidth(Close, Length, UpperBand, LowerBand);\n\nif bbandwidth >= BBW then ret=1;\n\noutputfield(1,bbandwidth,2,\"布林帶寬\");###"}
{"prompt": "請幫我用XS寫布林帶寬大於50%\n\n###\n\n", "completion": " input: \n\tLength(20, \"天數\"), \n\tUpperBand(2, \"上\"), \n\tLowerBand(2, \"下\"),\n\tBBW(50,\"N\");\n\t\nvariable: \n\tbbandwidth(0);\n\nbbandwidth = bollingerbandwidth(Close, Length, UpperBand, LowerBand);\n\nif bbandwidth >= BBW then ret=1;\n\noutputfield(1,bbandwidth,2,\"布林帶寬\");###"}
{"prompt": "請幫我用XS寫布林帶寬大於70%\n\n###\n\n", "completion": " input: \n\tLength(20, \"天數\"), \n\tUpperBand(2, \"上\"), \n\tLowerBand(2, \"下\"),\n\tBBW(70,\"N\");\n\t\nvariable: \n\tbbandwidth(0);\n\nbbandwidth = bollingerbandwidth(Close, Length, UpperBand, LowerBand);\n\nif bbandwidth >= BBW then ret=1;\n\noutputfield(1,bbandwidth,2,\"布林帶寬\");###"}
{"prompt": "請幫我用XS寫布林帶寬小於20%\n\n###\n\n", "completion": " input: \n\tLength(20, \"天數\"), \n\tUpperBand(2, \"上\"), \n\tLowerBand(2, \"下\"),\n\tBBW(20,\"N\");\n\t\nvariable: \n\tbbandwidth(0);\n\nbbandwidth = bollingerbandwidth(Close, Length, UpperBand, LowerBand);\n\nif bbandwidth <= BBW then ret=1;\n\noutputfield(1,bbandwidth,2,\"布林帶寬\");###"}
{"prompt": "請幫我用XS寫布林帶寬小於30%\n\n###\n\n", "completion": " input: \n\tLength(20, \"天數\"), \n\tUpperBand(2, \"上\"), \n\tLowerBand(2, \"下\"),\n\tBBW(30,\"N\");\n\t\nvariable: \n\tbbandwidth(0);\n\nbbandwidth = bollingerbandwidth(Close, Length, UpperBand, LowerBand);\n\nif bbandwidth <= BBW then ret=1;\n\noutputfield(1,bbandwidth,2,\"布林帶寬\");###"}
{"prompt": "請幫我用XS寫布林帶寬小於50%\n\n###\n\n", "completion": " input: \n\tLength(20, \"天數\"), \n\tUpperBand(2, \"上\"), \n\tLowerBand(2, \"下\"),\n\tBBW(50,\"N\");\n\t\nvariable: \n\tbbandwidth(0);\n\nbbandwidth = bollingerbandwidth(Close, Length, UpperBand, LowerBand);\n\nif bbandwidth <= BBW then ret=1;\n\noutputfield(1,bbandwidth,2,\"布林帶寬\");###"}
{"prompt": "請幫我用XS寫盤整後跌破\n\n###\n\n", "completion": " input:length(20); \tsetinputname(1, \"計算期間\");\ninput:percent(7); \tsetinputname(2, \"設定盤整區間%\");\n\nSetTotalBar(3);\n\nvalue1 = highest(high[1],length);\nvalue2 = lowest(low[1],length);\n\nif \n\tclose crosses under value2 and \n\tvalue1 < value2 *( 1 + percent * 0.01) //最近幾根bar的收盤價高點與低點差不到N%\nthen ret=1;###"}
{"prompt": "請幫我用XS寫雙KD向上\n\n###\n\n", "completion": " setbarfreq(\"AD\");\n\ninput: Length_D(9, \"日KD期間\");\ninput: Length_W(5, \"周KD期間\");\n\nvariable:rsv_d(0),kk_d(0),dd_d(0);\nvariable:rsv_w(0),kk_w(0),dd_w(0);\n\nstochastic(Length_D, 3, 3, rsv_d, kk_d, dd_d);\nxf_stochastic(\"W\", Length_W, 3, 3, rsv_w, kk_w, dd_w);\n\ncondition1 = kk_d crosses above dd_d;\t\t// 日KD crosses over\ncondition2 = xf_crossover(\"W\", kk_w, dd_w);\t// 周KD crosses over\ncondition3 = average(volume[1], 5) >= 1000;\n\ncondition4 = kk_d[1] <= 30;\t\t\t\t\t\t\t// 日K 低檔\ncondition5 = xf_getvalue(\"W\", kk_w, 1) <= 50;\t\t// 周K 低檔\n\nret = condition1 and condition2 and condition3 and condition4 and condition5;\n\noutputfield(1,kk_d,2,\"日K值\");\noutputfield(2,kk_w,2,\"週K值\", order := -1);###"}
{"prompt": "請幫我用XS寫股價下跌而外盤量佔比上升\n\n###\n\n", "completion": " input:period(20);\t\tsetinputname(1,\"計算天期\");\n\nsettotalbar(period * 2 + 3);\n\nvalue1 = GetField(\"外盤量\");//日的外盤量\nif volume <> 0 then \n\tvalue2 = value1 / volume\nelse\n\tvalue2 = 0;\n\nvalue3 = average(value2, period);\nif linearregslope(value3,period) > 0 and\n   linearregslope(close,period) < 0 and \n   volume > 1000\nthen ret=1;###"}
{"prompt": "請幫我用XS寫股價領先大盤創新高\n\n###\n\n", "completion": " input: Length(20, \"布林通道天數\");\ninput: BandRange(2, \"上下寬度\");\nvariable: up(0);\n\nCondition1 = GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\") > average(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),10);\nCondition2 = average(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),5) > average(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),20);\n\nvalue1=close/GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\");\nup = bollingerband(value1, Length, BandRange);\nCondition3 = TrueAll(value1 >= up, 3);\n\n// 成交量判斷\nCondition99 = Average(Volume[1], 100) >= 1000;\n\nif Condition1 And Condition2 And Condition3 And Condition99 then ret=1;\n\noutputfield(1, rateofchange(c,5), 2, \"5日漲幅%\", order := 1);\noutputfield(2, rateofchange(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),5), 2, \"大盤5日漲幅%\");###"}
{"prompt": "請幫我用XS寫股價領先大盤創新高，布林通道天數20，上下寬度2\n\n###\n\n", "completion": " input: Length(20, \"布林通道天數\");\ninput: BandRange(2, \"上下寬度\");\nvariable: up(0);\n\nCondition1 = GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\") > average(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),10);\nCondition2 = average(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),5) > average(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),20);\n\nvalue1=close/GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\");\nup = bollingerband(value1, Length, BandRange);\nCondition3 = TrueAll(value1 >= up, 3);\n\n// 成交量判斷\nCondition99 = Average(Volume[1], 100) >= 1000;\n\nif Condition1 And Condition2 And Condition3 And Condition99 then ret=1;\n\noutputfield(1, rateofchange(c,5), 2, \"5日漲幅%\", order := 1);\noutputfield(2, rateofchange(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),5), 2, \"大盤5日漲幅%\");###"}
{"prompt": "請幫我用XS寫股價領先大盤創新高，布林通道天數10，上下寬度1\n\n###\n\n", "completion": " input: Length(10, \"布林通道天數\");\ninput: BandRange(1, \"上下寬度\");\nvariable: up(0);\n\nCondition1 = GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\") > average(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),10);\nCondition2 = average(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),5) > average(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),20);\n\nvalue1=close/GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\");\nup = bollingerband(value1, Length, BandRange);\nCondition3 = TrueAll(value1 >= up, 3);\n\n// 成交量判斷\nCondition99 = Average(Volume[1], 100) >= 1000;\n\nif Condition1 And Condition2 And Condition3 And Condition99 then ret=1;\n\noutputfield(1, rateofchange(c,5), 2, \"5日漲幅%\", order := 1);\noutputfield(2, rateofchange(GetSymbolField(\"TSE.TW\",\"收盤價\",\"D\"),5), 2, \"大盤5日漲幅%\");###"}
{"prompt": "請用XS寫五日均線跟十日均線要糾結的選股\n\n###\n\n", "completion": " 舉例來說:\n\nvalue1 = average(close, 5);\n\nvalue2 = average(close, 10);\n\nvalue3 = 100 * absvalue(value1 - value2) / value2;   //以 value2 為基準計算比例\n\ncondition1 = trueall(value3 < 1, 3);    //連續3期比例要小於1%。###"}
{"prompt": "請用XS將昨日均價線顯示在今日的走勢圖主圖上\n\n###\n\n", "completion": " 您可以使用日頻率的均價欄位取前期值，就可以抓到昨日的均價。\n\n舉例來說：\n\nvalue1 = GetField(\"均價\", \"D\")[1];\n\nplot1(value1);\n\n \n\nvalue1 就會是昨日的均價。###"}
{"prompt": "請用XS寫飆股壓回或高檔盤整，\n盤到接近均線時的線型\n\n###\n\n", "completion": " 最簡單的方法就是用收盤價和均線值的百分比，如果需要持續n天的話用 trueall ，任一天的話 trueany###"}
{"prompt": "請用XS寫突破糾結均線的選股\n\n###\n\n", "completion": " setbarfreq(\"AD\");\n\ninput: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\ninput: Percent(5);  setinputname(4,\"均線糾結區間%\");\ninput: XLen(20);  setinputname(5,\"均線糾結期數\");\n\ninput: Volpercent(25);  setinputname(6,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\nvariable: AvgHLp(0),AvgH(0),AvgL(0);\n\nshortaverage = average(close,shortlength);\nmidaverage = average(close,midlength);\nLongaverage = average(close,Longlength);\n\t\t\nAvgH = maxlist(shortaverage,midaverage,Longaverage);\nAvgL = minlist(shortaverage,midaverage,Longaverage);\n\nif AvgL > 0 then AvgHLp = 100*AvgH/AvgL -100;\n\ncondition1 = trueAll(AvgHLp < Percent,XLen);\ncondition2 = V > average(V[1],XLen)*(1+Volpercent/100) ;\ncondition3 = C > AvgH *(1.02) and H > highest(H[1],XLen);\ncondition4 = average(volume[1], 5) >= 1000; \n\nret = condition1 and condition2 and condition3 and condition4;\n\noutputfield(1,AvgH,2,\"均線上緣\", order := -1);\noutputfield(2,AvgL,2,\"均線下緣\");###"}
{"prompt": "請用XS寫KD與均線同步出現買進訊號的選股\n\n###\n\n", "completion": " input: Length(60, \"均線期間\");\n\nvariable:rsv1(0),k1(0),d1(0);\n\nstochastic(9,3,3,rsv1,k1,d1);\n\n// K線黃金交叉\ncondition1 = k1 crosses over d1;\n\ncondition2 = close crosses over average(close,Length) or close[1] crosses over average(close[1],Length);\n\n// 確認有一定的成交量\ncondition3 = average(volume,20) > 1000;\n\nret = condition1 and condition2 and condition3;\n\noutputfield(1,average(close,Length),2,\"60日均線\", order := -1);###"}
{"prompt": "請用XS寫突破糾結均線的選股\n\n###\n\n", "completion": " input: shortlength(5); \tsetinputname(1,\"短期均線期數\");\ninput: midlength(10); \tsetinputname(2,\"中期均線期數\");\ninput: Longlength(20); \tsetinputname(3,\"長期均線期數\");\ninput: Percent(2);  \tsetinputname(4,\"均線糾結區間%\");\ninput: Volpercent(25);  setinputname(5,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\ninput: VolLimit(2000); \tsetinputname(6,\"最小成交量\");\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\nvariable: maxaverage(0);\n\n\nshortaverage = average(close,shortlength);\nmidaverage = average(close,midlength);\nLongaverage = average(close,Longlength);\nmaxaverage = maxlist(shortaverage,midaverage,Longaverage);\n\nSetTotalBar(8);\n\nif \n\tvolume > average(volume,Longlength) * (1 + volpercent * 0.01) and \n\tvolume > VolLimit and\n    Close crosses over maxaverage \nthen\n  begin\n\tvalue1= absvalue(shortaverage -midaverage);\n\tvalue2= absvalue(midaverage -Longaverage);\n\tvalue3= absvalue(Longaverage -shortaverage);\n\tif maxlist(value1,value2,value3)*100 < Percent*Close then  ret=1;\n  end;###"}
{"prompt": "請用XS寫帶量突破均線後未拉回的選股\n\n###\n\n", "completion": " input:day(5);\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(10);\tsetinputname(2,\"移動平均線期別\");\ninput:percent(20);\tsetinputname(3,\"突破當日成交量超過均量多少%\");\n\nSetTotalBar(3);\n\nvalue1=average(close,length);\nvalue2=average(volume,length);\n\nif close[day-1] crosses over average(close[day-1], length) and\n   volume[day-1] > average(volume[day-1], length) * (1+percent/100) and\n   volume > 1000\nthen\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close > keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請用XS寫帶量突破均線後5日內未拉回的選股\n\n###\n\n", "completion": " input:day(5);\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(10);\tsetinputname(2,\"移動平均線期別\");\ninput:percent(20);\tsetinputname(3,\"突破當日成交量超過均量多少%\");\n\nSetTotalBar(3);\n\nvalue1=average(close,length);\nvalue2=average(volume,length);\n\nif close[day-1] crosses over average(close[day-1], length) and\n   volume[day-1] > average(volume[day-1], length) * (1+percent/100) and\n   volume > 1000\nthen\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close > keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請用XS寫帶量突破均線後3日內未拉回的選股\n\n###\n\n", "completion": " input:day(3);\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(10);\tsetinputname(2,\"移動平均線期別\");\ninput:percent(20);\tsetinputname(3,\"突破當日成交量超過均量多少%\");\n\nSetTotalBar(3);\n\nvalue1=average(close,length);\nvalue2=average(volume,length);\n\nif close[day-1] crosses over average(close[day-1], length) and\n   volume[day-1] > average(volume[day-1], length) * (1+percent/100) and\n   volume > 1000\nthen\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close > keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請用XS寫跌破均線後站不回的選股\n\n###\n\n", "completion": " input:day(3);\t\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(20);\t\tsetinputname(2,\"移動平均線期別\");\n\nsettotalbar(length + 3);\n\nif close[day-1] crosses under average(close[day-1], length) then\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close < keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請用XS寫跌破均線後3日內站不回的選股\n\n###\n\n", "completion": " input:day(3);\t\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(20);\t\tsetinputname(2,\"移動平均線期別\");\n\nsettotalbar(length + 3);\n\nif close[day-1] crosses under average(close[day-1], length) then\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close < keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請用XS寫跌破均線後5日內站不回的選股\n\n###\n\n", "completion": " input:day(5);\t\t\tsetinputname(1,\"幾天內未站回\");\ninput:length(20);\t\tsetinputname(2,\"移動平均線期別\");\n\nsettotalbar(length + 3);\n\nif close[day-1] crosses under average(close[day-1], length) then\n  begin\n\tvariable: keyprice(0);\n\t\n\tkeyprice = average(close[day-1], length);\n\tif trueall(close < keyprice, day-1) then ret = 1;\n  end;###"}
{"prompt": "請用XS寫均線多頭排列的選股\n\n###\n\n", "completion": " input:Leng1(5),Leng2(20),Leng3(60);\n\nvariable: ma1(0), ma2(0), ma3(0);\n\nSetInputName(1,\"短均線\");\nSetInputName(2,\"中均線\");\nSetInputName(3,\"長均線\");\n\nsettotalbar(3);\n\nma1 = average(close, Leng1);\nma2 = average(close, Leng2);\nma3 = average(close, Leng3);\n\ncondition1 = close > ma1;\ncondition2 = ma1 > ma2;\ncondition3 = ma2 > ma3;\n\nif condition1 and condition2 and condition3 then \nret = 1;\n\nSetOutputName1(\"短均線\");   \nOutputField1(ma1);\nSetOutputName2(\"中均線\");   \nOutputField2(ma2);\nSetOutputName3(\"長均線\");   \nOutputField3(ma3);###"}
{"prompt": "請用XS寫均線空頭排列的選股\n\n###\n\n", "completion": " input:Leng1(5),Leng2(20),Leng3(60);\n\nvariable: ma1(0), ma2(0), ma3(0);\n\nSetInputName(1,\"短均線\");\nSetInputName(2,\"中均線\");\nSetInputName(3,\"長均線\");\n\nsettotalbar(3);\n\nma1 = average(close, Leng1);\nma2 = average(close, Leng2);\nma3 = average(close, Leng3);\n\ncondition1 = close < ma1;\ncondition2 = ma1 < ma2;\ncondition3 = ma2 < ma3;\n\nif condition1 and condition2 and condition3 then \nret = 1;\n\nSetOutputName1(\"短均線\");   \nOutputField1(ma1);\nSetOutputName2(\"中均線\");   \nOutputField2(ma2);\nSetOutputName3(\"長均線\");   \nOutputField3(ma3);###"}
{"prompt": "請用XS寫短期均線穿越長期均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫短期5日均線穿越長期20日均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫短期10日均線穿越20日均線的選股\n\n###\n\n", "completion": " input: Shortlength(10); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫10日均線穿越20日均線的選股\n\n###\n\n", "completion": " input: Shortlength(10); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫3日均線穿越5日均線的選股\n\n###\n\n", "completion": " input: Shortlength(3); setinputname(1,\"短期均線期數\");\ninput: Longlength(5); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫短期均線跌破長期均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫5日均線跌破20日均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫5日均線跌破10日均線的選股\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(10); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫3日均線跌破5日均線的選股\n\n###\n\n", "completion": " input: Shortlength(3); setinputname(1,\"短期均線期數\");\ninput: Longlength(5); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫跌破糾結均線的選股\n\n###\n\n", "completion": " setbarfreq(\"AD\");\n\ninput: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\ninput: Percent(5);  setinputname(4,\"均線糾結區間%\");\ninput: XLen(20);  setinputname(5,\"均線糾結期數\");\n\ninput: Volpercent(25);  setinputname(6,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\nvariable: AvgHLp(0),AvgH(0),AvgL(0);\n\nshortaverage = average(close,shortlength);\nmidaverage = average(close,midlength);\nLongaverage = average(close,Longlength);\n\t\nAvgH = maxlist(shortaverage,midaverage,Longaverage);\nAvgL = minlist(shortaverage,midaverage,Longaverage);\n\nif AvgL > 0 then AvgHLp = 100*AvgH/AvgL -100;\n\ncondition1 = trueAll(AvgHLp < Percent,XLen);\ncondition2 = V >  average(V[1],XLen)*(1+Volpercent/100) ;\ncondition3 = average(Volume[1], 5) >= 2000;\ncondition4 = C < AvgL *(0.98) and L < lowest(L[1],XLen);\n\nret = condition1 and condition2 and condition3 and condition4;\n\noutputfield(1,AvgH,2,\"均線上緣\", order := -1);\noutputfield(2,AvgL,2,\"均線下緣\");###"}
{"prompt": "請用XS寫股價大於近N期平均的選股\n\n###\n\n", "completion": " input:N(5); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") > Average(GetField(\"Close\"),N) then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請用XS寫股價小於近N期平均的選股\n\n###\n\n", "completion": " input:N(5); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") < Value1 then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請用XS寫移動平均線再平均的指標\n\n###\n\n", "completion": " input: Period1(5,\"一次平均期數\");\ninput: Period2(5,\"二次平均期數\");\ninput: Period3(10,\"累計期數\");\n\nvalue1=average(close,Period1);\nvalue2=average(value1,Period2);\nvalue3=value1-value2;\nvalue4=summation(value3,Period3);\nplot1(value4,\"多空\");###"}
{"prompt": "請用XS寫自營商均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\t\nvariable: avg_b(0), avg_s(0);\n\nif GetField(\"Volume\") > 0 then \nbegin\n\tValue5 = GetField(\"自營商買張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\n\tValue6 = GetField(\"自營商賣張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\nend else begin\n\tValue5 = 0;\n\tValue6 = 0;\nend;\n\t\nValue1 = summation(Value5, period);\nValue2 = summation(GetField(\"自營商買張\"), period);\nValue3 = summation(Value6, period);\nValue4 = summation(GetField(\"自營商賣張\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg_b = Value1 / Value2;\nif Value4 > 0 and Value4 <> Value4[1]  then avg_s = Value3 / Value4;\n\nPlot1(avg_b, \"自營商買進均價\");\nPlot2(avg_s, \"自營商賣出均價\");###"}
{"prompt": "請用XS寫投信均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\t\nvariable: avg_b(0), avg_s(0);\n\nif GetField(\"Volume\") > 0 then \nbegin\n\tValue5 = GetField(\"投信買張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\n\tValue6 = GetField(\"投信賣張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\nend else begin\n\tValue5 = 0;\n\tValue6 = 0;\nend;\n\nValue1 = summation(Value5, period);\nValue2 = summation(GetField(\"投信買張\"), period);\nValue3 = summation(Value6, period);\nValue4 = summation(GetField(\"投信賣張\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg_b = Value1 / Value2;\nif Value4 > 0 and Value4 <> Value4[1]  then avg_s = Value3 / Value4;\n\nPlot1(avg_b, \"投信買進均價\");\nPlot2(avg_s, \"投信賣出均價\");###"}
{"prompt": "請用XS寫外資均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\nvariable: avg_b(0), avg_s(0);\nif GetField(\"Volume\") > 0 then \nbegin\n\tValue5 = GetField(\"外資買張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\n\tValue6 = GetField(\"外資賣張\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000);\nend else begin\n\tValue5 = 0;\n\tValue6 = 0;\nend;\n\nValue1 = summation(Value5, period);\nValue2 = summation(GetField(\"外資買張\"), period);\nValue3 = summation(Value6, period);\nValue4 = summation(GetField(\"外資賣張\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg_b = Value1 / Value2;\nif Value4 > 0 and Value4 <> Value4[1]  then avg_s = Value3 / Value4;\n\nPlot1(avg_b, \"外資買進均價\");\nPlot2(avg_s, \"外資賣出均價\");###"}
{"prompt": "請用XS寫融券均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\nvariable: avg(0);\n\nif GetField(\"Volume\") > 0 then \n\tValue3 = GetField(\"融券賣出張數\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000)\nelse\n\tValue3 = 0;\n\nValue1 = summation(Value3, period);\nValue2 = summation(GetField(\"融券賣出張數\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg = Value1 / Value2;\n\nPlot1(avg, \"融券賣出均價\");###"}
{"prompt": "請用XS寫融資均價線的指標\n\n###\n\n", "completion": " Input: period(20);\tsetinputname(1, \"期間(天)\");\n\nif barfreq = \"Tick\" or barfreq = \"Min\"\n\tthen raiseruntimeerror(\"不支援此頻率\");\n\nvariable: avg(0);\n\nif GetField(\"Volume\") > 0 then \n\tValue3 = GetField(\"融資買進張數\")*GetField(\"成交金額\")/(GetField(\"Volume\")*1000)\nelse\n\tValue3 = 0;\n\nValue1 = summation(Value3, period);\nValue2 = summation(GetField(\"融資買進張數\"), period);\n \nif Value2 > 0 and Value2 <> Value2[1] then avg = Value1 / Value2;\n\nPlot1(avg, \"融資買進均價\");###"}
{"prompt": "請用XS寫200日均線以上包含家數的指標\n\n###\n\n", "completion": " value1 = 0;\n\nif getsymbolfield(\"1101.TW\", \"Close\") > average(getsymbolfield(\"1101.TW\", \"Close\"), 200) then value1 +=1;\n\nif getsymbolfield(\"1102.TW\", \"Close\") > average(getsymbolfield(\"1102.TW\", \"Close\"), 200) then value1 +=1; # 將所想要的商品寫出後 value1 就會是這些商品中符合條件的數量。###"}
{"prompt": "請用XS寫股價大於近3期平均的選股\n\n###\n\n", "completion": " input:N(3); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") < Value1 then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請用XS寫股價大於近2期平均的選股\n\n###\n\n", "completion": " input:N(2); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") < Value1 then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請用XS寫股價大於近1期平均的選股\n\n###\n\n", "completion": " input:N(1); setinputname(1, \"期別\"); \n\nSetTotalBar(3);\n\nValue1 = Average(GetField(\"Close\"),N);\nif GetField(\"Close\") < Value1 then ret=1; \n\nSetOutputName1(\"均價\");\noutputfield1(Value1);###"}
{"prompt": "請用XS寫股價穿越突破三均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10);  setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,midlength,Longlength));\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\n\nshortaverage=Average(close,shortlength);\nmidaverage=Average(close,midlength) ;\nLongaverage = Average(close,Longlength); \n\nif close > maxlist(shortaverage, midaverage, longaverage) and\n     open < minlist(shortaverage, midaverage, longaverage)\n     then ret=1;###"}
{"prompt": "請用XS寫股價穿越突破單均線的警示\n\n###\n\n", "completion": " input: length(5); setinputname(1,\"均線期數\");\ninput: Price(Close); setinputname(2,\"價格別\");\n\nsettotalbar(3);\nsetbarback(length);\n\nvariable: avgValue(0);\navgValue = Average(Price,length);\n\nif close > avgValue and  open < avgValue  then ret=1;###"}
{"prompt": "請用XS寫股價穿越突破雙均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,Longlength));\n\nvariable: Longaverage(0);\nvariable: shortaverage(0);\n\nLongaverage = Average(close,Longlength);\nshortaverage=Average(close,shortlength) ;\n\n\nif close > maxlist(shortaverage, longaverage) and\n     open < minlist(shortaverage, longaverage)\nthen ret=1;###"}
{"prompt": "請用XS寫股價穿越跌破三均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,midlength,Longlength));\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\n\nshortaverage=Average(close,shortlength);\nmidaverage=Average(close,midlength) ;\nLongaverage = Average(close,Longlength); \n\nif open > maxlist(shortaverage, midaverage, longaverage) and\n   close < minlist(shortaverage, midaverage, longaverage)\nthen ret=1;###"}
{"prompt": "請用XS寫股價穿越跌破單均線的警示\n\n###\n\n", "completion": " input: length(5); setinputname(1,\"均線期數\");\ninput: Price(Close);setinputname(2,\"價格別\");\n\nsettotalbar(3);\nsetbarback(length);\n\nvariable: avgValue(0);\navgValue = Average(Price,length);\n\nif close < avgValue and  open > avgValue  then ret=1;###"}
{"prompt": "請用XS寫股價穿越跌破雙均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,Longlength));\n\nvariable: Longaverage(0);\nvariable: shortaverage(0);\n\nLongaverage = Average(close,Longlength);\nshortaverage=Average(close,shortlength) ;\n\nif open > maxlist(shortaverage, longaverage) and\n   close < minlist(shortaverage, longaverage)\n then ret=1;###"}
{"prompt": "請用XS寫帶量突破均線的警示\n\n###\n\n", "completion": " input: Length(10), VolFactor(2);\n\nsettotalbar(3);\nsetbarback(Length);\n\nSetInputName(1, \"期數\");\nSetInputName(2, \"成交量放大倍數\");\n\nif close > Average(close, Length) and  close[1] <  Average(close, Length) and\n   volume > Average(volume, Length) * VolFactor \nthen ret=1;###"}
{"prompt": "請用XS寫帶量跌破均線的警示\n\n###\n\n", "completion": " input: Length(10), VolFactor(2);\n\nsettotalbar(3);\nsetbarback(Length);\n\nSetInputName(1, \"期數\");\nSetInputName(2, \"成交量放大倍數\");\n\nif close < Average(close, Length) and  close[1] >  Average(close, Length) and\n   volume > Average(volume, Length) * VolFactor \nthen ret=1;###"}
{"prompt": "請用XS寫第一次站上20週均線的警示\n\n###\n\n", "completion": " if barfreq<>\"W\" then return;\nif close crosses over average(close,20)\nand barslast(close crosses over average(close,20))[1]\n>20\nthen ret=1;###"}
{"prompt": "請用XS寫第一次站上10週均線的警示\n\n###\n\n", "completion": " if barfreq<>\"W\" then return;\nif close crosses over average(close,10)\nand barslast(close crosses over average(close,10))[1]\n>10\nthen ret=1;###"}
{"prompt": "請用XS寫短期均線突破長期均線的警示\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(Shortlength,Longlength,6));\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫3日均線突破5日均線的警示\n\n###\n\n", "completion": " input: Shortlength(3); setinputname(1,\"短期均線期數\");\ninput: Longlength(5); setinputname(2,\"長期均線期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(Shortlength,Longlength,6));\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫10日均線突破20日均線的警示\n\n###\n\n", "completion": " input: Shortlength(10); setinputname(1,\"短期均線期數\");\ninput: Longlength(20); setinputname(2,\"長期均線期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(Shortlength,Longlength,6));\n\nIf Average(Close,Shortlength) crosses over Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫5日均線跌破10日均線的警示\n\n###\n\n", "completion": " input: Shortlength(5); setinputname(1,\"短期均線期數\");\ninput: Longlength(10); setinputname(2,\"長期均線期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(Shortlength,Longlength,6));\n\nIf Average(Close,Shortlength) crosses under Average(Close,Longlength) then Ret=1;###"}
{"prompt": "請用XS寫大跌後均線黃金交叉的警示\n\n###\n\n", "completion": " Input: Length1(5, \"短天期\");\nInput: Length2(20, \"長天期\");\n\nvalue1=highest(high,100);\n\nif value1 > close*1.2\nand average(close,Length1) crosses over average(close,Length2)\nthen ret=1;###"}
{"prompt": "請用XS寫中長線均線糾結後突破的警示\n\n###\n\n", "completion": " input: Shortlength(10,\"短期均線期數\");\ninput: Midlength(20,\"中期均線期數\");\ninput: Longlength(40,\"長期均線期數\");\ninput: Percent(2,\"均線糾結區間%\");\ninput: Volpercent(20,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\nif volume > average(volume,Longlength) * (1 + volpercent * 0.01) and volume > 1000 then\nbegin\n\tshortaverage = average(close,Shortlength);\n\tmidaverage = average(close,Midlength);\n\tLongaverage = average(close,Longlength);\n\t\n\tvalue2=  maxlist(shortaverage,midaverage,Longaverage );\n\tvalue3=  minlist(shortaverage,midaverage,Longaverage );\n\t\n\tif close crosses over value2\n\tand (value2-value3)*100 < Percent*close \n\tthen ret=1;\nend;###"}
{"prompt": "請用XS寫舉跌破多根均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10);  setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\n\nsetbarback(maxlist(shortlength,midlength,Longlength,6)+8);\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\n\nshortaverage=Average(close,shortlength);\nmidaverage=Average(close,midlength) ;\nLongaverage = Average(close,Longlength); \n\nif close  crosses under  shortaverage and \n   close  crosses under  midlength and \n   close  crosses under  Longaverage \nthen ret=1;###"}
{"prompt": "請用XS寫跌破均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\n\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,midlength,Longlength));\n\nshortaverage=Average(close,shortlength);\nmidaverage=Average(close,midlength) ;\nLongaverage = Average(close,Longlength); \n\nif open > maxlist(shortaverage, midaverage, longaverage) and\n   close < minlist(shortaverage, midaverage, longaverage)\nthen ret=1;###"}
{"prompt": "請用XS寫大跌後均線糾結後上漲的警示\n\n###\n\n", "completion": " input: s1(5,\"短期均線期數\");\ninput: s2(10,\"中期均線期數\");\ninput: s3(20,\"長期均線期數\");\ninput: Percent(2,\"均線糾結區間%\");\ninput: Volpercent(25,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\n\nvariable: Shortaverage(0);\nvariable: Midaverage(0);\nvariable: Longaverage(0);\n\nif volume > average(volume,s3) * (1 + volpercent * 0.01)\n//放量25%\nand lowest(volume,s3)<1000\n//區間最低量小於一千張\nand volume>2000\n//今日成交量突破2000張\nthen begin\n\tShortaverage = average(close,s1);\n\tMidaverage = average(close,s2);\n\tLongaverage = average(close,s3);\n\tvalue1= maxlist(Shortaverage,Midaverage,Longaverage) - minlist(Shortaverage,Midaverage,Longaverage);\n\t\n\tif  value1*100 < Percent*Close\n\tand linearregangle(value1,5)<10\n\t//均線糾結在一起\n\tand close*1.3<close[40]\n\t//最近四十個交易日跌了超過三成\n\tthen ret=1; \nend;###"}
{"prompt": "請用XS寫平均量黃金交叉的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短均量期數\");\ninput: Longlength(22); setinputname(2,\"長均量期數\");\n\nsettotalbar(8);\nsetbarback(maxlist(shortlength,Longlength));\n\nvariable: Longaverage(0);\nvariable: shortaverage(0);\n\nLongaverage = Average(volume,Longlength);\nshortaverage=Average(volume,shortlength) ;\n\nif shortaverage crosses over  Longaverage then ret=1;###"}
{"prompt": "請用XS寫均線多頭排列的警示\n\n###\n\n", "completion": " input: shortlength(5,\"短期均線期數\");\ninput: midlength(10,\"中期均線期數\");\ninput: Longlength(20,\"長期均線期數\");\ninput: SuperLong(60,\"超長期均線期數\");\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\nvariable: SuperLongaverage(0);\n\nsettotalbar(3);\nsetbarback(maxlist(shortlength,midlength,Longlength,SuperLong));\n\nif Close > close[1] then\nbegin\n shortaverage=Average(close,shortlength);\n midaverage=Average(close,midlength) ;\n Longaverage = Average(close,Longlength); \n SuperLongaverage = Average(close,SuperLong); \n if  close>shortaverage and \n     shortaverage>midaverage and \n\t midaverage>Longaverage and \n\t Longaverage>SuperLongaverage\n then ret=1;\nend;###"}
{"prompt": "請用XS寫沿均線前進的警示\n\n###\n\n", "completion": " input:Length(10); setinputname(1,\"計算期數\");\ninput:FollowLength(5); setinputname(2,\"貼近均線期數\");\ninput:Ratio(2);setinputname(3,\"沿均線通道幅度%\");\ninput:LongShort(0);setinputname(4,\"觸發:創新高1,創新低-1,不指定0\");\n\nsettotalbar(FollowLength + 3);\nsetbarback(Length);\n\ncondition1= false;\n\nswitch(LongShort)\nbegin\ncase =1:\n condition1 = close > highest(high[1],Length);\ncase -1:\n condition1 = close < lowest(low[1],Length);\ncase 0:\n condition1=true;\nend;\n\n\nIf Condition1 and \n   TrueAll(absvalue(close-average(close,Length))< Close*Ratio/100,FollowLength)\nthen Ret=1;###"}
{"prompt": "請用XS寫突破糾結均線的警示\n\n###\n\n", "completion": " input: shortlength(5,\"短期均線期數\");\ninput: midlength(10,\"中期均線期數\");\ninput: Longlength(20,\"長期均線期數\");\ninput: Percent(5,\"均線糾結區間%\");\ninput: XLen(20,\"均線糾結期數\");\ninput: Volpercent(25,\"放量幅度%\"); //帶量突破的量是超過最長期的均量多少%\n\nvariable: Shortaverage(0),Midaverage(0),Longaverage(0);\nvariable: AvgHLp(0),AvgH(0),AvgL(0);\n\n//透過Z的時間安排來決定現在用的是那一根Bar的資料 \nvariable: Z(0);\nif currenttime > 180000 \nor currenttime < 083000 then \n\tZ =0 \nelse \n\tZ=1;\n\nShortaverage = average(close,shortlength);\nMidaverage = average(close,midlength);\nLongaverage = average(close,Longlength);\nAvgH = maxlist(Shortaverage,Midaverage,Longaverage);\nAvgL = minlist(Shortaverage,Midaverage,Longaverage);\n\nif AvgL > 0 then AvgHLp = 100*AvgH/AvgL -100;\n\ncondition1 = trueAll(AvgHLp < Percent,XLen);\ncondition2 = V > average(V[1],XLen)*(1+Volpercent/100) ;\ncondition3 = C > AvgH *(1.02) and H > highest(H[1],XLen);\ncondition4 = average(volume[1], 5) >= 1000; \ncondition5 = tselsindex(10,6)[Z]=1;\n\nif condition1 \nand condition2 \nand condition3 \nand condition4 \nand condition5\nthen ret=1;###"}
{"prompt": "請用XS寫帶量突破糾結的均線的警示\n\n###\n\n", "completion": " input: shortlength(5); setinputname(1,\"短期均線期數\");\ninput: midlength(10); setinputname(2,\"中期均線期數\");\ninput: Longlength(20); setinputname(3,\"長期均線期數\");\ninput: Percent(2);  setinputname(4,\"均線糾結區間%\");\ninput: Volpercent(25);  setinputname(5,\"放量幅度%\");//帶量突破的量是超過最長期的均量多少%\nvariable: shortaverage(0);\nvariable: midaverage(0);\nvariable: Longaverage(0);\n\nsettotalbar(8);\nsetbarback(maxlist(shortlength,midlength,Longlength));\n\n\nif volume > average(volume,Longlength) * (1 + volpercent * 0.01) then\nbegin\n\tshortaverage = average(close,shortlength);\n\tmidaverage = average(close,midlength);\n\tLongaverage = average(close,Longlength);\n\tif Close crosses over maxlist(shortaverage,midaverage,Longaverage) then\n\tbegin\n\t\tvalue1= absvalue(shortaverage -midaverage);\n\t\tvalue2= absvalue(midaverage -Longaverage);\n\t\tvalue3= absvalue(Longaverage -shortaverage);\n\t\tif maxlist(value1,value2,value3)*100 < Percent*Close then  ret=1;\n\tend;\nend;###"}
{"prompt": "請用XS寫調整型均線黃金交叉的警示\n\n###\n\n", "completion": " input:Length(6); setinputname(1,\"起始期數\");\ninput:TLength(20); setinputname(2,\"終止期數\");\ninput:AddLength(1); setinputname(3,\"期數調整項\");\ninput:TuneRatio(3); setinputname(4,\"調整係數\");\n\nsettotalbar(TLength + 8);\n\nvariable: AvgTR(0);\n\nif Length >= TLength then return;\n\nAvgTR = average(TrueRange,Length);\n\nvalue2 = intportion( (TLength -Length)/ AddLength);\nfor value1 =  Length to TLength\nbegin\n    if mod( value1 ,AddLength) = 0  or value1 =TLength then\n\t begin\n\t\tif (AvgTR > Close *  TuneRatio*0.01 ) then\n\t\tbegin\n\t\tAvgTR = average(TrueRange,value1);\n\t\tvalue3 = value1; \n\t\tend;\n   end;\nend;\n\nif close crosses over  average(close[1] ,value3) then ret=1;###"}
{"prompt": "請用XS寫成交量突破N倍均量的警示\n\n###\n\n", "completion": " input: length(20);  setinputname(1,\"均量期數\");\ninput: N(3);  setinputname(2,\"量增倍數\");\n\nsettotalbar(3);\nsetbarback(Length);\n\nif volume > Average( volume[1],length)* N then ret=1;###"}
{"prompt": "請用XS寫成交量突破1倍均量的警示\n\n###\n\n", "completion": " input: length(20);  setinputname(1,\"均量期數\");\ninput: N(1);  setinputname(2,\"量增倍數\");\n\nsettotalbar(1);\nsetbarback(Length);\n\nif volume > Average( volume[1],length)* N then ret=1;###"}
{"prompt": "請用XS寫成交量突破2倍均量的警示\n\n###\n\n", "completion": " input: length(20);  setinputname(1,\"均量期數\");\ninput: N(2);  setinputname(2,\"量增倍數\");\n\nsettotalbar(2);\nsetbarback(Length);\n\nif volume > Average( volume[1],length)* N then ret=1;###"}
{"prompt": "請用XS寫成交量突破10倍均量的警示\n\n###\n\n", "completion": " input: length(20);  setinputname(1,\"均量期數\");\ninput: N(10);  setinputname(2,\"量增倍數\");\n\nsettotalbar(10);\nsetbarback(Length);\n\nif volume > Average( volume[1],length)* N then ret=1;###"}